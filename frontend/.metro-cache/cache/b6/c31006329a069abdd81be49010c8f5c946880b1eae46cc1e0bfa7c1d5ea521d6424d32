{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":126},"end":{"line":3,"column":40,"index":166}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../utils/auth","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":167},"end":{"line":4,"column":62,"index":229}}],"key":"OLzacrMOowSnRR+k5VF7ZTmYsQo=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":230},"end":{"line":5,"column":69,"index":299}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/index.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return Index;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[2], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsText = require(_dependencyMap[4], \"react-native-web/dist/exports/Text\");\n  var Text = _interopDefault(_reactNativeWebDistExportsText);\n  var _expoRouter = require(_dependencyMap[5], \"expo-router\");\n  var _utilsAuth = require(_dependencyMap[6], \"../utils/auth\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[7], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[8], \"react/jsx-dev-runtime\");\n  function Index() {\n    const router = (0, _expoRouter.useRouter)();\n    const [checking, setChecking] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuthAndNavigate();\n    }, []);\n    const checkAuthAndNavigate = async () => {\n      try {\n        const token = await (0, _utilsAuth.getAuthToken)();\n        if (!token) {\n          // No token - redirect to login\n          router.replace('/auth/login');\n          return;\n        }\n\n        // Get user role from metadata\n        const metadata = await (0, _utilsAuth.getUserMetadata)();\n        const role = metadata.role || (await AsyncStorage.default.getItem('user_role'));\n\n        // Navigate based on role\n        if (role === 'admin') {\n          router.replace('/admin/dashboard');\n        } else if (role === 'security') {\n          router.replace('/security/home');\n        } else {\n          router.replace('/civil/home');\n        }\n      } catch (error) {\n        console.log('[Index] Auth check error:', error);\n        router.replace('/auth/login');\n      } finally {\n        setChecking(false);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n        size: \"large\",\n        color: \"#EF4444\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: styles.text,\n        children: \"Loading SafeGuard...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }, this);\n  }\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#0F172A',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    text: {\n      color: '#94A3B8',\n      fontSize: 16,\n      marginTop: 16\n    }\n  });\n});","lineCount":103,"map":[[13,2,7,15,"Object"],[13,8,7,15],[13,9,7,15,"defineProperty"],[13,23,7,15],[13,24,7,15,"exports"],[13,31,7,15],[14,4,7,15,"enumerable"],[14,14,7,15],[15,4,7,15,"get"],[15,7,7,15],[15,18,7,15,"get"],[15,19,7,15],[16,6,7,15],[16,13,7,15,"Index"],[16,18,7,15],[17,4,7,15],[18,2,7,15],[19,2,1,0],[19,6,1,0,"_react"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,51],[20,6,1,51,"_reactNativeWebDistExportsView"],[20,36,1,51],[20,39,1,51,"require"],[20,46,1,51],[20,47,1,51,"_dependencyMap"],[20,61,1,51],[21,2,1,51],[21,6,1,51,"View"],[21,10,1,51],[21,13,1,51,"_interopDefault"],[21,28,1,51],[21,29,1,51,"_reactNativeWebDistExportsView"],[21,59,1,51],[22,2,1,51],[22,6,1,51,"_reactNativeWebDistExportsActivityIndicator"],[22,49,1,51],[22,52,1,51,"require"],[22,59,1,51],[22,60,1,51,"_dependencyMap"],[22,74,1,51],[23,2,1,51],[23,6,1,51,"ActivityIndicator"],[23,23,1,51],[23,26,1,51,"_interopDefault"],[23,41,1,51],[23,42,1,51,"_reactNativeWebDistExportsActivityIndicator"],[23,85,1,51],[24,2,1,51],[24,6,1,51,"_reactNativeWebDistExportsStyleSheet"],[24,42,1,51],[24,45,1,51,"require"],[24,52,1,51],[24,53,1,51,"_dependencyMap"],[24,67,1,51],[25,2,1,51],[25,6,1,51,"StyleSheet"],[25,16,1,51],[25,19,1,51,"_interopDefault"],[25,34,1,51],[25,35,1,51,"_reactNativeWebDistExportsStyleSheet"],[25,71,1,51],[26,2,1,51],[26,6,1,51,"_reactNativeWebDistExportsText"],[26,36,1,51],[26,39,1,51,"require"],[26,46,1,51],[26,47,1,51,"_dependencyMap"],[26,61,1,51],[27,2,1,51],[27,6,1,51,"Text"],[27,10,1,51],[27,13,1,51,"_interopDefault"],[27,28,1,51],[27,29,1,51,"_reactNativeWebDistExportsText"],[27,59,1,51],[28,2,3,0],[28,6,3,0,"_expoRouter"],[28,17,3,0],[28,20,3,0,"require"],[28,27,3,0],[28,28,3,0,"_dependencyMap"],[28,42,3,0],[29,2,4,0],[29,6,4,0,"_utilsAuth"],[29,16,4,0],[29,19,4,0,"require"],[29,26,4,0],[29,27,4,0,"_dependencyMap"],[29,41,4,0],[30,2,5,0],[30,6,5,0,"_reactNativeAsyncStorageAsyncStorage"],[30,42,5,0],[30,45,5,0,"require"],[30,52,5,0],[30,53,5,0,"_dependencyMap"],[30,67,5,0],[31,2,5,0],[31,6,5,0,"AsyncStorage"],[31,18,5,0],[31,21,5,0,"_interopDefault"],[31,36,5,0],[31,37,5,0,"_reactNativeAsyncStorageAsyncStorage"],[31,73,5,0],[32,2,5,69],[32,6,5,69,"_reactJsxDevRuntime"],[32,25,5,69],[32,28,5,69,"require"],[32,35,5,69],[32,36,5,69,"_dependencyMap"],[32,50,5,69],[33,2,7,15],[33,11,7,24,"Index"],[33,16,7,29,"Index"],[33,17,7,29],[33,19,7,32],[34,4,8,2],[34,10,8,8,"router"],[34,16,8,14],[34,19,8,17],[34,23,8,17,"useRouter"],[34,34,8,26],[34,35,8,26,"useRouter"],[34,44,8,26],[34,46,8,27],[34,47,8,28],[35,4,9,2],[35,10,9,8],[35,11,9,9,"checking"],[35,19,9,17],[35,21,9,19,"setChecking"],[35,32,9,30],[35,33,9,31],[35,36,9,34],[35,40,9,34,"useState"],[35,46,9,42],[35,47,9,42,"useState"],[35,55,9,42],[35,57,9,43],[35,61,9,47],[35,62,9,48],[36,4,11,2],[36,8,11,2,"useEffect"],[36,14,11,11],[36,15,11,11,"useEffect"],[36,24,11,11],[36,26,11,12],[36,32,11,18],[37,6,12,4,"checkAuthAndNavigate"],[37,26,12,24],[37,27,12,25],[37,28,12,26],[38,4,13,2],[38,5,13,3],[38,7,13,5],[38,9,13,7],[38,10,13,8],[39,4,15,2],[39,10,15,8,"checkAuthAndNavigate"],[39,30,15,28],[39,33,15,31],[39,39,15,31,"checkAuthAndNavigate"],[39,40,15,31],[39,45,15,43],[40,6,16,4],[40,10,16,8],[41,8,17,6],[41,14,17,12,"token"],[41,19,17,17],[41,22,17,20],[41,28,17,26],[41,32,17,26,"getAuthToken"],[41,42,17,38],[41,43,17,38,"getAuthToken"],[41,55,17,38],[41,57,17,39],[41,58,17,40],[42,8,19,6],[42,12,19,10],[42,13,19,11,"token"],[42,18,19,16],[42,20,19,18],[43,10,20,8],[44,10,21,8,"router"],[44,16,21,14],[44,17,21,15,"replace"],[44,24,21,22],[44,25,21,23],[44,38,21,36],[44,39,21,37],[45,10,22,8],[46,8,23,6],[48,8,25,6],[49,8,26,6],[49,14,26,12,"metadata"],[49,22,26,20],[49,25,26,23],[49,31,26,29],[49,35,26,29,"getUserMetadata"],[49,45,26,44],[49,46,26,44,"getUserMetadata"],[49,61,26,44],[49,63,26,45],[49,64,26,46],[50,8,27,6],[50,14,27,12,"role"],[50,18,27,16],[50,21,27,19,"metadata"],[50,29,27,27],[50,30,27,28,"role"],[50,34,27,32],[50,39,27,36],[50,45,27,42,"AsyncStorage"],[50,57,27,54],[50,58,27,54,"default"],[50,65,27,54],[50,66,27,55,"getItem"],[50,73,27,62],[50,74,27,63],[50,85,27,74],[50,86,27,75],[52,8,29,6],[53,8,30,6],[53,12,30,10,"role"],[53,16,30,14],[53,21,30,19],[53,28,30,26],[53,30,30,28],[54,10,31,8,"router"],[54,16,31,14],[54,17,31,15,"replace"],[54,24,31,22],[54,25,31,23],[54,43,31,41],[54,44,31,42],[55,8,32,6],[55,9,32,7],[55,15,32,13],[55,19,32,17,"role"],[55,23,32,21],[55,28,32,26],[55,38,32,36],[55,40,32,38],[56,10,33,8,"router"],[56,16,33,14],[56,17,33,15,"replace"],[56,24,33,22],[56,25,33,23],[56,41,33,39],[56,42,33,40],[57,8,34,6],[57,9,34,7],[57,15,34,13],[58,10,35,8,"router"],[58,16,35,14],[58,17,35,15,"replace"],[58,24,35,22],[58,25,35,23],[58,38,35,36],[58,39,35,37],[59,8,36,6],[60,6,37,4],[60,7,37,5],[60,8,37,6],[60,15,37,13,"error"],[60,20,37,18],[60,22,37,20],[61,8,38,6,"console"],[61,15,38,13],[61,16,38,14,"log"],[61,19,38,17],[61,20,38,18],[61,47,38,45],[61,49,38,47,"error"],[61,54,38,52],[61,55,38,53],[62,8,39,6,"router"],[62,14,39,12],[62,15,39,13,"replace"],[62,22,39,20],[62,23,39,21],[62,36,39,34],[62,37,39,35],[63,6,40,4],[63,7,40,5],[63,16,40,14],[64,8,41,6,"setChecking"],[64,19,41,17],[64,20,41,18],[64,25,41,23],[64,26,41,24],[65,6,42,4],[66,4,43,2],[66,5,43,3],[67,4,45,2],[67,24,46,4],[67,28,46,4,"_reactJsxDevRuntime"],[67,47,46,4],[67,48,46,4,"jsxDEV"],[67,54,46,4],[67,56,46,5,"View"],[67,60,46,9],[67,61,46,9,"default"],[67,68,46,9],[68,6,46,10,"style"],[68,11,46,15],[68,13,46,17,"styles"],[68,19,46,23],[68,20,46,24,"container"],[68,29,46,34],[69,6,46,34,"children"],[69,14,46,34],[69,30,47,6],[69,34,47,6,"_reactJsxDevRuntime"],[69,53,47,6],[69,54,47,6,"jsxDEV"],[69,60,47,6],[69,62,47,7,"ActivityIndicator"],[69,79,47,24],[69,80,47,24,"default"],[69,87,47,24],[70,8,47,25,"size"],[70,12,47,29],[70,14,47,30],[70,21,47,37],[71,8,47,38,"color"],[71,13,47,43],[71,15,47,44],[72,6,47,53],[73,8,47,53,"fileName"],[73,16,47,53],[73,18,47,53,"_jsxFileName"],[73,30,47,53],[74,8,47,53,"lineNumber"],[74,18,47,53],[75,8,47,53,"columnNumber"],[75,20,47,53],[76,6,47,53],[76,13,47,55],[76,14,47,56],[76,29,48,6],[76,33,48,6,"_reactJsxDevRuntime"],[76,52,48,6],[76,53,48,6,"jsxDEV"],[76,59,48,6],[76,61,48,7,"Text"],[76,65,48,11],[76,66,48,11,"default"],[76,73,48,11],[77,8,48,12,"style"],[77,13,48,17],[77,15,48,19,"styles"],[77,21,48,25],[77,22,48,26,"text"],[77,26,48,31],[78,8,48,31,"children"],[78,16,48,31],[78,18,48,32],[79,6,48,52],[80,8,48,52,"fileName"],[80,16,48,52],[80,18,48,52,"_jsxFileName"],[80,30,48,52],[81,8,48,52,"lineNumber"],[81,18,48,52],[82,8,48,52,"columnNumber"],[82,20,48,52],[83,6,48,52],[83,13,48,58],[83,14,48,59],[84,4,48,59],[85,6,48,59,"fileName"],[85,14,48,59],[85,16,48,59,"_jsxFileName"],[85,28,48,59],[86,6,48,59,"lineNumber"],[86,16,48,59],[87,6,48,59,"columnNumber"],[87,18,48,59],[88,4,48,59],[88,11,49,10],[88,12,49,11],[89,2,51,0],[90,2,53,0],[90,8,53,6,"styles"],[90,14,53,12],[90,17,53,15,"StyleSheet"],[90,27,53,25],[90,28,53,25,"default"],[90,35,53,25],[90,36,53,26,"create"],[90,42,53,32],[90,43,53,33],[91,4,54,2,"container"],[91,13,54,11],[91,15,54,13],[92,6,55,4,"flex"],[92,10,55,8],[92,12,55,10],[92,13,55,11],[93,6,56,4,"backgroundColor"],[93,21,56,19],[93,23,56,21],[93,32,56,30],[94,6,57,4,"justifyContent"],[94,20,57,18],[94,22,57,20],[94,30,57,28],[95,6,58,4,"alignItems"],[95,16,58,14],[95,18,58,16],[96,4,59,2],[96,5,59,3],[97,4,60,2,"text"],[97,8,60,6],[97,10,60,8],[98,6,61,4,"color"],[98,11,61,9],[98,13,61,11],[98,22,61,20],[99,6,62,4,"fontSize"],[99,14,62,12],[99,16,62,14],[99,18,62,16],[100,6,63,4,"marginTop"],[100,15,63,13],[100,17,63,15],[101,4,64,2],[102,2,65,0],[102,3,65,1],[102,4,65,2],[103,0,65,3],[103,3]],"functionMap":{"names":["<global>","Index","useEffect$argument_0","checkAuthAndNavigate"],"mappings":"AAA;eCM;YCI;GDE;+BEE;GF4B;CDQ"},"hasCjsExports":false},"type":"js/module"}]}